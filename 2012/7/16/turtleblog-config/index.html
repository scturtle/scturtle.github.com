<!doctype html>
<html>
  <head>
    <meta charset=utf-8>
    <title>Turtleblog 的配置 | ScTurtle&#39;s Pool</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Vollkorn&subset=latin" type="text/css">
    <link rel="stylesheet" href="/static/style.css" type="text/css">
    <link rel="stylesheet" href="/static/pygments.css" type="text/css">
    <link href="/atom.xml" rel="alternate" title="ScTurtle&#39;s Pool" type="application/atom+xml">
  </head>
  <body>
    <div class=container>
      <div class=header>
        <a href='/'>ScTurtle&#39;s Pool</a>
      </div>
      <div class=navigation>
        <ul>
          <li><a href='/'>blog</a>
          <li><a href='/tags/'>tags</a>
          <li><a href='/about/'>about</a>
        </ul>
      </div>
      <div class=body>


<h1 class=title>Turtleblog 的配置</h1>
<p class=date>July 16, 2012</p>
<p>这个东西主要是自用和抛砖引玉而已。<a href="https://github.com/mitsuhiko/rstblog/">rstblog</a>、<a href="https://github.com/BrewerHimself/Logr">logr</a>、<a href="http://ringce.com/hyde">hyde</a> 这些项目更值得推荐。</p>
<p>运行于 python 2.7 环境，依赖于 python-markdown、pygments、jinja2、bottle 这几个项目，可 <code>pip install</code> 安装。</p>
<p><code>git clone</code> 一下 turtleblog 的<a href="https://github.com/scturtle/turtleblog.git">源码</a>。修改配置文件 config.json：</p>
<div class="codehilite"><pre><span class="p">{</span>
    &quot;<span class="n">site</span> <span class="n">name</span>&quot;<span class="p">:</span> &quot;<span class="n">ScTurtle</span><span class="o">&#39;</span><span class="n">s</span> <span class="n">Pool</span>&quot;<span class="p">,</span> <span class="o">//</span>博客名会显示在左上角
    &quot;<span class="n">site</span> <span class="n">url</span>&quot;<span class="p">:</span> &quot;<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">scturtle</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">com</span>&quot;<span class="p">,</span> <span class="o">//</span>博客网址
    &quot;<span class="n">author</span>&quot;<span class="p">:</span> &quot;<span class="n">scturtle</span>&quot;<span class="p">,</span>
    &quot;<span class="n">number</span> <span class="n">of</span> <span class="n">blogs</span> <span class="n">per</span> <span class="n">page</span>&quot;<span class="p">:</span> 10<span class="p">,</span>
    &quot;<span class="n">markdown</span> <span class="n">config</span>&quot;<span class="p">:</span>&quot;<span class="n">extra</span> <span class="n">codehilite</span>&quot;<span class="p">,</span><span class="o">//</span>配置 <span class="n">markdown</span> 扩展
    &quot;<span class="n">disqus</span> <span class="n">shortname</span>&quot;<span class="p">:</span>&quot;<span class="n">scturtlespool</span>&quot;
<span class="p">}</span>
</pre></div>


<p>"disqus shortname" 这一项请先注册 disqus 的服务，然后在其提供的安装代码中寻找。</p>
<p>每一篇文章是 blog 目录下的一个文件夹（可以任意递归），例如建立 <em>2012/7/15/test/</em> 文件夹，那么这篇文章的 url 就是这个。文件夹下需要有 blog.md、config.json 两个文件。还可以有 img 文件夹专放图片。blog.md 中写主要文章内容，config.json 中配置：</p>
<div class="codehilite"><pre><span class="p">{</span>
    &quot;<span class="n">title</span>&quot;<span class="p">:</span>&quot;文章标题&quot;<span class="p">,</span>
    &quot;<span class="n">tags</span>&quot;<span class="p">:</span>&quot;标签，以空格分隔&quot;<span class="p">,</span>
    &quot;<span class="n">date</span>&quot;<span class="p">:</span>&quot;2012<span class="o">-</span>7<span class="o">-</span>15 10<span class="p">:</span>00&quot;<span class="p">,</span>
    &quot;<span class="n">enable</span> <span class="n">mathjax</span>&quot;<span class="p">:</span><span class="n">true</span> <span class="o">//</span>是否启用 <span class="n">mathjax</span>，如果文中有 <span class="n">Tex</span> 公式
<span class="p">}</span>
</pre></div>


<p>如果需要 project、about 等独立页面，那么在 page 下建立一个包含 page.md、config.json 的文件夹，页面 url 为文件夹名称。config.json 中配置 "title"（显示在浏览器标签栏的名字）。</p>
<p>static 下的样式表 pygments.css 配置代码高亮的配色，style.css 为整个站点的配置，可修改整站主题。</p>
<p>修改 template 下的模板文件最好有一些 jinja2 的基础。一般只需要动一下 base.html 这个主要框架，比如加入独立页面的链接，修改页底的联系方式或加上 Google Analytics 的统计代码。</p>
<p>最后运行一下 turtle.py 这个脚本就会在 html 文件夹下生成好静态的文件了。运行 server.py 这个脚本可以在本地预览。在 github 建立一个 yourname.github.com 项目然后将 html 文件夹的内容提交到 master 分支即可。</p>
<p>写 markdown 时，我是用的自己的 markdown 编辑器 <a href="http://turtlenote-scturtle.rhcloud.com/">turtlenote</a>。</p>
<div id="show_disqus"><a onclick="load_disqus();return false;" href="##">Show comments</a></div>
<div id="disqus_thread"></div>


      </div>
      <div class=footer>
        <p><a href='https://github.com/scturtle/turtleblog'>turtleblog</a> &copy; 2012 scturtle
        <p> <a href="mailto:scturtle@gmail.com">mail</a>,
        <a href="http://twitter.com/scturtle">twitter</a>,
        <a href="http://github.com/scturtle">github</a>,
        <a href='/atom.xml' rel=alternate title="Recent Blogs | ScTurtle&#39;s Pool">feed</a>
      </div>
    </div>

<script type="text/javascript">
  var disqus_shortname = 'scturtlespool';
  function load_disqus() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    document.getElementById('show_disqus').style.display='none';
  };
</script>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33410961-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </body>
</html>